  <style>
  :root{
    --blue:#00296b;      /* Phénix bleu */
    --gold:#FFD500;      /* Phénix jaune */
    --ink:#0f172a;       /* Texte principal */
    --muted:#64748b;     /* Texte secondaire */
    --line:#e5e7eb;      /* Bordures */
    --wash:#f8fafc;      /* Fond léger */
    --card:#ffffff;      /* Cartes */
  }

  /* Montserrat */
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap');

  html,body{height:100%}
  body{
    margin:0; color:var(--ink); background:#fafafa;
    font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  }

    .hidden{display: none !important;}


  /* Topbar */
  header{
    padding:12px 16px; background:var(--blue); color:#fff;
    display:flex; align-items:center; justify-content:space-between;
    box-shadow:0 2px 0 rgba(0,0,0,.05);
  }
  header h1{margin:0; font-size:16px; font-weight:700; letter-spacing:.2px}
  .toolbar{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .pill{padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid var(--line); background:var(--wash)}

/* Header brand avec logo */
header .brand{display:flex; align-items:center; gap:10px; min-width:0;}
header .brand img{height:28px; width:auto; display:block;}
/* gérer le texte quand l'espace est serré */
header h1{white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}

@media (max-width:560px){
  header .brand img{height:24px;}
  header h1{font-size:14px;}
}



  /* Tabs */
  .tabs{
    display:flex; gap:8px; padding:8px 12px; height:46px; align-items:flex-end;
    border-bottom:1px solid var(--line); background:#fff; position:sticky; top:0; z-index:5;
  }
  .tab{padding:10px 12px; border-radius:10px 10px 0 0; cursor:pointer; user-select:none; color:#334155}
  .tab.active{background:var(--gold); color:var(--blue); font-weight:700}

  /* Layout */
  .container{padding:20px}
  .row{display:flex; gap:20px; flex-wrap:wrap}
  .grid{display:grid; gap:16px}
  .grid.cols-2{grid-template-columns:repeat(2,1fr)}
  .grid.cols-3{grid-template-columns:repeat(3,1fr)}
  .grid.cols-4{grid-template-columns:repeat(4,1fr)}

  /* Cards / content */
  .card{border:1px solid var(--line); border-radius:14px; padding:14px; background:var(--card); box-shadow:0 1px 2px rgba(0,0,0,.04)}
  .card h3{margin:0 0 8px; font-size:14px; font-weight:700; color:#0b1a34}
  .note{font-size:12px; color:var(--muted)}

  /* KPI */
  .stats{display:grid; grid-template-columns:repeat(4,minmax(160px,1fr)); gap:14px; margin-bottom:14px}
  .stat{background:#fff; border:1px solid var(--line); border-radius:14px; padding:12px; display:flex; flex-direction:column; gap:6px; min-height:84px}
  .stat .kpi{font-size:24px; font-weight:700; color:var(--blue); line-height:1}
  .stat .lbl{font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.6px}
  .stat .sub{font-size:12px; color:#334155}

  /* Forms */
  label{font-size:12px; color:#475569; display:block; margin-bottom:6px}
  input,select,textarea{width:auto; padding:10px 12px; border:1px solid #cbd5e1; border-radius:8px; font-size:13px; background:#fff}
  textarea{min-height:220px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}

  /* Buttons */
  .btn{display:inline-flex; align-items:center; justify-content:center; gap:6px; padding:9px 12px; border-radius:10px; border:1px solid var(--blue); background:var(--blue); color:#fff; cursor:pointer; font-size:13px; font-weight:600; box-shadow:0 1px 0 rgba(255,255,255,.15) inset}
  .btn.secondary{background:#fff; color:var(--blue); border-color:var(--line)}
  .btn.ghost{background:transparent; border-color:transparent; color:var(--blue)}
  .btn.danger{background:#dc2626; border-color:#dc2626; color:#fff}
  .btn:disabled{opacity:.6; cursor:not-allowed}

  /* Tables */
  table{width:100%; border-collapse:collapse; font-size:13px}
  th,td{border:1px solid var(--line); padding:8px 10px}
  th{background:#f1f5f9; text-align:left; position:sticky; top:0; z-index:1}

  /* Busy ribbon */
  .section-busy{display:none; align-items:center; gap:8px; background:#eef2ff; border:1px solid #c7d2fe; color:#1e3a8a; padding:6px 10px; border-radius:10px; margin-bottom:8px}
  .section-busy.show{display:flex}
  .spinner{width:14px; height:14px; border:2px solid #93c5fd; border-top-color:#1d4ed8; border-radius:50%; animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* Params nav */
  .params{display:grid; grid-template-columns:280px 1fr; gap:16px}
  .params-nav{border-right:1px solid var(--line); padding-right:8px; position:sticky; top:52px; align-self:start}
  .params-nav button{width:100%; text-align:left; padding:10px; margin:6px 0; border-radius:10px; border:1px solid var(--line); background:#fff; cursor:pointer}
  .params-nav button.active{background:var(--blue); color:#fff}
  .field{margin:8px 0 12px; padding:12px; border:1px solid var(--line); border-radius:10px; background:#fff}
  .field h4{margin:0 0 6px; font-size:13px}
  .field small{display:block; color:var(--muted); margin-top:6px}

  /* Modaux unifiés */
  .modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.38); display:flex; align-items:center; justify-content:center; z-index:50}
  .modal-backdrop[hidden]{display:none !important}
  .modal-card{background:#fff; border-radius:16px; padding:18px; width:min(960px,calc(100% - 32px)); box-shadow:0 24px 50px rgba(0,0,0,.28); border:1px solid var(--line)}
  .modal-header{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:6px 4px 14px; border-bottom:1px solid var(--line)}
  .modal-header h3{margin:0; font-size:16px}
  .modal-body{padding-top:12px}
  .modal-actions{display:flex; gap:8px; justify-content:flex-end; margin-top:12px}
  .rich-editor{min-height:180px; border:1px solid #cbd5e1; padding:10px; border-radius:10px}

.badge{
  display:inline-block; background:#16a34a; color:#fff; border-radius:999px;
  padding:6px 10px; font-size:12px; font-weight:600; box-shadow:0 1px 2px rgba(0,0,0,.12);
  margin: 6px 0 10px;
}



  /* Compat: ancien modal Mappings */
  .modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.38); z-index:50}
  .modal[hidden]{display:none !important}
  .modal-content{background:#fff; border-radius:16px; padding:18px; width:min(840px,calc(100% - 32px)); box-shadow:0 24px 50px rgba(0,0,0,.28); border:1px solid var(--line)}

  /* Toast */
  .toast{position:fixed; bottom:16px; right:16px; background:var(--blue); color:#fff; padding:10px 12px; border-radius:10px; box-shadow:0 6px 24px rgba(0,0,0,.2); display:none}
</style>
